<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smart Access Control (SAC) with PLC: Smart Access Control (SAC) with PLC</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Smart Access Control (SAC) with PLC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Smart Access Control (SAC) with PLC </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a></p>
<h1><a class="anchor" id="autotoc_md0"></a>
Smart Acess Control (SAC) with PLC</h1>
<p >Author: <b>Davis Onyeoguzoro</b></p>
<p >Date: September 26, 2025</p>
<hr  />
<h2><a class="anchor" id="autotoc_md2"></a>
Overview</h2>
<p >The <b>Smart Access Control with PLC</b> system integrates <b>machine vision</b> for face recognition with a <b>CLICK PLC</b> for deterministic, safe control of actuators like <b>Stack lights, buzzers, and stepper motors</b>.</p>
<p >It combines the flexibility of <b>Raspberry Pi 5</b> (Vision and AI) with the reliability of <b>Industrial PLC hardware</b> which makes it suitable for academic research as well as factory scenarios.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Key Features</h2>
<ul>
<li>Real-time face recognition and allow/deny policy</li>
<li>Stack lights: Green = Access Granted, Red = Denied, Yellow = Processing</li>
<li>Motor control via stepper or relay output</li>
<li>PLC safety interlocks: E-Stop (NC), watchdog heartbeat, manual overides</li>
<li>Event logging and remote monitoring via MQTT and REST API</li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
Process Flow Diagram</h2>
<p ><img src="PLC_Vision_Dav.png" alt="" class="inline" title="System Diagram"/>    </p>
<h2><a class="anchor" id="autotoc_md5"></a>
System Architecture</h2>
<p >Safety</p><ul>
<li>All outputs are conditioned on SafetyOK</li>
<li>E-Stop NC breaks power path and drops "SafeyOK" motion OFF, and stacklight RED</li>
</ul>
<p >Network and Security</p><ul>
<li>Modbus TCP 502 is on an isolated VLAN</li>
<li>MQTT broker 1883 with TLS for events</li>
</ul>
<p >Actuation</p><ul>
<li>Ladder Logic: Rungs gate every output through "SafetyOK"</li>
<li>E-Stop NC: Hardwired to cut motion of actuators and devices, logic forces RED</li>
</ul>
<p >Machine Vision</p><ul>
<li>Camera + Vision to detect and recognize faces</li>
<li>Controller state machine for states (Idle, Detect, Decide, Allow/Deny, Reset)</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
Functional Requirements</h2>
<ul>
<li>Face Detection: The camera captures the faces and the machine model on the Raspberry Pi detect faces in incoming frame</li>
<li>Recognition: The Raspberry PI compares the captured face against a face-encoding database and produces both the name and the confidence of the prediction</li>
<li>Decision: For each frame cycle, the controller wwould output a single decision - ALLOW or DENY</li>
<li>Outputs -&gt; PLC: The Raspberry Pi will write coils, AllowAccess (C010), DenyAccess (C011), BusyYellow (C012)</li>
<li>Inputs -&gt; PLC: The Raspberry Pi will read EStopNC (X001), Start (X002)</li>
<li>MQTT Publish: On every decision, the Raspberry Pi will publish to sac/events/access with {name, decision, confidence}</li>
<li>Safety and <b>E-Stop</b>: Opening the E-Stop circuit MUST immediately drop motion outputs and force <b>RED</b></li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
Hardware Requirements</h2>
<ul>
<li>Raspberry Pi 5</li>
<li>Camera</li>
<li>Click PLC</li>
<li>Stack lights (Red, Green, Yellow)</li>
<li>Stepper Motor</li>
<li>Motor Driver</li>
<li>Push buttons (Start, Stop), NC E-STOP</li>
<li>24 VDC Power Supply for PLC and actuators</li>
</ul>
<h2><a class="anchor" id="autotoc_md8"></a>
Software Requirements</h2>
<ul>
<li>OS: Raspberry Pi OS</li>
<li>PLC: Click PLC Software - Ladder Logic and Structured Text</li>
<li>Vision: Python, OpenCV, Picamera</li>
<li>Communication: Modbus TCP, MQTT</li>
<li>Backend: FastAPI</li>
</ul>
<h2><a class="anchor" id="autotoc_md9"></a>
Communication Protocols</h2>
<p >Modbus (PI &lt;-&gt; PLC)</p><ul>
<li>Write - Pi -&gt; PLC: AllowAccess, DenyAccess, BusyYellow</li>
<li>Read - PLC -&gt; Pi: EStopNC, StartNO</li>
</ul>
<p >MQTT</p><ul>
<li>Publish: sac/events/access</li>
<li>Subscribe: sac/cmd/reload </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
